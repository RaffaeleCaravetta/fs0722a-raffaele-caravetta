<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calcolatrice anni seriale</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
</head>
<body>

<div class="container">
    <div class="row">
    <div class="col-6">
        <form>
            <div class="mb-3">
              <label for="exampleInputEmail1" class="form-label">Nome</label>
              <input type="text" class="form-control" id="nome">
            </div>
            <div class="mb-3">
              <label for="exampleInputPassword1" class="form-label">Cognome</label>
              <input type="text" class="form-control" id="cognome">
            </div>
            <div class="mb-3">
                <label for="exampleInputPassword1" class="form-label">Data di nascita</label>
                <input type="date" class="form-control" id="dataDiNascita">
              </div>
            <button type="submit" class="btn btn-primary" id="button">Vai</button>
          </form>
    </div>
    <div class="col-6">
        <table class="table" id="tabella">
            <thead>
              <tr>
                <th scope="col">Nome</th>
                <th scope="col">Cognome</th>
                <th scope="col">Anni</th>
              </tr>
            </thead>
           
          </table>
    </div>
    </div>
</div>






    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js">
    
        
    </script>
    <script>
       /* let now = new Date()
        let anno = now.getFullYear()
        let mese = now.getMonth()+1
        let giorno = now.getDate()
        let dataDiOggi = anno + "-" + mese + "-" + giorno
        console.log(anno + "-" + mese + "-" + giorno)
*/
       
        
        
       
        let EventHandler = {
            CLICK: 'click',
            MOUSE_OVER: 'mouseover',
    
        }

let vai_btn = document.querySelector("#button")
        vai_btn.addEventListener(EventHandler.CLICK, Registrati); 
        
              

        function User (a,b,c){
            this.nome = a
            this.cognome = b
            this.eta = c
             
        }

        function Registrati (e){
         
          e.preventDefault()
           
               let name = document.querySelector("#nome").value
               let surname = document.querySelector("#cognome").value
               let anni = document.querySelector("#dataDiNascita").value
               
               let user = new User(name,surname,anni)  
	            
               let dataNascita = Date.parse( anni );
	             let today = new Date().getTime();
	             let diff = ( today - dataNascita ) / ( 1000 * 60 * 60 * 24 * 365 );
	             let n = parseInt( diff, 10 );
	        
            console.log(user)
           
           
           //let riga = "<tr><td>"+ name + "</td>" + "<td>" + surname + "</td" + "<td>" + anni + "</td></tr>"
           let td = document.createElement("td")
           let td_1 = document.createElement("td")
           let td_2 = document.createElement("td")
           let testo_nome = document.createTextNode(name)
           let testo_cognome = document.createTextNode(surname)
           let testo_anni = document.createTextNode(n)
           td.appendChild(testo_nome)
           td_1.appendChild(testo_cognome)
           td_2.appendChild(testo_anni)
           
          
           let tbody  = document.createElement("tbody"); 
           let tr = document.createElement("tr")
          tr.appendChild(td);
          tr.appendChild(td_1)
          tr.appendChild(td_2)
          
          
           tbody.appendChild(tr)
           let tabella = document.querySelector("#tabella").appendChild(tbody)
            
           
}


    
    </script>
</body>
</html>